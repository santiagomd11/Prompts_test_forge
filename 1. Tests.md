You are an expert in software testing and code coverage. Analyze the following git patches:

CODE PATCH (Implementation):
{{code_patch.patch}}

TEST PATCH (Tests):
{{test_patch.patch}}

Your task is to evaluate whether the tests completely cover the implementation.

Analyze:
1. Does every implemented feature, method, class, or behavior change have corresponding tests?
2. Are edge cases, error conditions, and validations properly tested?
3. Are there any unnecessary or redundant tests?

Respond ONLY with a valid JSON object (without markdown, without backticks) with this structure:

{
  "result": "YES" or "NO",
  "justification": "Brief explanation",
  "missingTests": [
    "Missing test for feature X",
    "Missing edge case test for null input in method Y",
    "Missing error handling test for Z"
  ],
  "unnecessaryTests": [
    "Test 'should do X' is redundant with 'should handle X'",
    "Test 'mock test Y' doesn't test actual functionality"
  ]
}

Rules:
- result is "YES" only if ALL features are tested AND there are no unnecessary tests
- result is "NO" if ANY feature is missing tests OR if there are unnecessary/redundant tests
- missingTests array should be empty if all features are covered
- unnecessaryTests array should be empty if all tests are valuable
- Be specific: mention exact feature names, method names, or test names
```

---

## Usage Example

**Example code_patch.patch:**
```
diff --git a/src/user.js b/src/user.js
+  async createUser(userData) {
+    if (!userData.email) {
+      throw new Error('Email is required');
+    }
+    const user = await this.db.insert(userData);
+    return user;
+  }
+
+  async deleteUser(userId) {
+    return await this.db.delete(userId);
+  }
```

**Example test_patch.patch:**
```
diff --git a/test/user.test.js b/test/user.test.js
+  it('should create user with valid data', async () => {
+    const userData = { email: 'test@test.com', name: 'Test' };
+    const result = await userService.createUser(userData);
+    expect(result).toBeDefined();
+  });
```

**Expected Output:**
```
RESULT: NO

JUSTIFICATION:
The test coverage is incomplete. Missing tests:
- Missing test for createUser error case when email is not provided
- Missing test for deleteUser method (no tests at all for this feature)
- Missing edge case test for createUser with invalid email format
```

**Or in JSON format:**
```json
{
  "result": "NO",
  "justification": "The test coverage is incomplete with multiple missing tests for implemented features",
  "missingTests": [
    "Missing test for createUser error case when email is not provided (should throw 'Email is required')",
    "Missing test for deleteUser method - no tests exist for this feature",
    "Missing edge case test for createUser with null or undefined userData",
    "Missing edge case test for createUser with invalid email format"
  ],
  "unnecessaryTests": []
}
```